# SyslogAnalytics
This is my System Log Analytics script set for analyzing the collected RSyslog data that was generated by the USG and other compoents along my network.

In the Folder [grafana](grafana/), there are ready to use Grafana Dashboards.
Prerequisite: PostgreSQL connection named "Syslog" to the RSyslog database that should be analyzed

In the folder [postgres](postgres/) I have put one setup sql file for autocreating daily partitions. Since the logging can be quite extensive, I have the created triggers also drop a partition older than 11 days, i.e., there will be only 10 days available for reporting. 
When logging into and repoting from postrges with Grafana, it sometimes comes to timezone issues. In my example, I did not maintain it in postgres properly at the beginning leading to Grafana reporting data one hour "to late", i.e., it was showing me data from one hour ago as to be most recent. I could only determin that by zooming out.
In case one faces such issue, one needs to adjust the databases timezone accordingly to be in sync with RSyslog (and network componeents). 
For me, the following statements (as postgres) did solve the issue;
```
alter database "postgres" set time zone 'Europe/Berlin'; 
alter table systemevents alter COLUMN devicereportedtime TYPE TIMESTAMP WITH TIME ZONE USING devicereportedtime AT TIME ZONE 'UTC+1';
runcate table systemevents;
```
